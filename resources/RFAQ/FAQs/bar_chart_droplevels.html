<html>
<head><title>Northland College R FAQ</title></head>
<META http-equiv="Page-Enter" CONTENT="RevealTrans(Duration=1,Transition=3)">
<SCRIPT SRC="../../GNRL/scripts/GNRL.JS"></SCRIPT>
<body bgcolor="#FFFFB9">

<h1>My bar chart contains unwanted levels.</h1>
<p>This problem usually occurs when you are constructing a bar chart of a factor variable in a data frame created from <font face="Courier New" color="#FF0000">subset()</font>.  R, unfortunately, keeps the names of the levels in the original data frame rather than just the names of the levels in the new data frame.  However, the unused levels in the data frame can be dropped by using <font face="Courier New" color="#FF0000">Subset()</font> (note the capital "S") to create the new data frame.  For example, this problem is illustrated with the following commands and graphic ...</p>

<pre><font color="#FF0000">> library(gdata)
> tan <- read.table("Tanner.txt",head=T)
> tan1 <- subset(tan,type=="slick.board" | type=="standard")
> tbl <- table(tan1$type)
> tbl</font>
<font color="#0000FF">   cod.sock slick.board    standard ZK.excluder 
          0           9           9           0 </font>
<font color="#FF0000">> barplot(tbl,xlab="Trap Type",ylab="Frequency"</font></pre>

<div align="center"><img src="Figs/barchart_unused_levels_1.jpeg" width="305" height="304" alt="" border="0"></div>

<p>The problem can be avoided by using <font face="Courier New" color="#FF0000">Subset()</font> as shown below ...</p>

<pre><font color="#FF0000">> tan1 <- Subset(tan,type=="slick.board" | type=="standard")
> tbl <- table(tan1$type)
> tbl</font>
<font color="#0000FF">  slick.board    standard 
            9           9</font>
<font color="#FF0000">> barplot(tbl,xlab="Trap Type",ylab="Frequency"</font></pre>

<div align="center"><img src="Figs/barchart_unused_levels_2.jpeg" width="305" height="304" alt="" border="0"></div>

<p>A more thorough explanation is given in <a href="subset_2groups.html">this FAQ</a>.</p>
	
<hr size="5" color="#800000">
<div align="center"><a href="FAQ_R_NC.html"><font size="+1">Return to FAQ List</font></a></div>

</body>
</html>
