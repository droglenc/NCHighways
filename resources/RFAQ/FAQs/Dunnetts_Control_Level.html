<html>
<head><title>Northland College R FAQ</title></head>
<META http-equiv="Page-Enter" CONTENT="RevealTrans(Duration=1,Transition=3)">
<SCRIPT SRC="../../GNRL/scripts/GNRL.JS"></SCRIPT>
<body bgcolor="#FFFFB9">

<h1>Dunnett's test in <font face="Courier New" color="#FF0000">glht()</font> does not use the level for the "control" group that I want it to use.</h1>
<p>Dunnett's method computes multiple comparisons between one particular group (generically called the "control" group) and all of the other groups in the analysis.  The default "control" group in R is the first listed level.  Unless you have changed the order of the levels the first level listed will be the first alphabetically-ordered group.  One can see the order of the levels for a group-factor variable by including that variable name as the only argument to <font face="Courier New" color="#FF0000">levels()</font>.  In addition, one of the levels can be moved to the first position with <font face="Courier New" color="#FF0000">relevel()</font> where the first argument is the group factor variable, the second argument is the exact name of the level that should be moved to the first position (contained in quotes), and the results should be saved to a new group-factor variable.  This procedure can be seen in the following example.</p>

<pre>
<font color="#FF0000">> str(ap)</font>
<font color="#0000FF">'data.frame':   16 obs. of  9 variables:
 $ treatment: Factor w/ 4 levels "Ca.K","control",..: 2 2 2 2 4 4 4 4 1 1 ...
 $ plot     : int  1 2 3 4 1 2 3 4 1 2 ...
 $ ttlN     : int  3240 3077 3205 3330 3755 5037 4753 4453 4200 5915 ...
 $ pitN     : int  1663 1663 1770 1755 1915 2180 2137 1967 2063 2050 ...
 $ P        : int  836 891 831 889 842 930 945 850 869 1016 ...
 $ K        : int  8747 8460 8575 8330 10375 10047 10447 9677 11190 12060 ...
 $ Ca       : int  218 249 261 209 145 172 160 206 184 184 ...
 $ Mg       : int  388 372 376 367 408 420 421 396 398 461 ...
 $ wght     : num   97.3  75.8  78.5  77.5 108.2 ...</font>
<font color="#FF0000">> levels(ap$treatment)</font>
<font color="#0000FF">[1] "Ca.K"    "control" "NH4.SO4" "urea"</font>

<font color="#FF0000">> ap$treatment1 <- relevel(ap$treatment,"control")

> levels(ap$treatment1)</font>
<font color="#0000FF">[1] "control" "Ca.K"    "NH4.SO4" "urea"</font>
<font color="#FF0000">> attach(ap)
> lm1 <- lm(ttlN~treatment1)
> mc <- glht(lm1,mcp(treatment1="Dunnett"))
> summary(mc)</font>
<font color="#0000FF">Linear Hypotheses:
                       Estimate Std. Error t value p value   
Ca.K - control == 0      1950.7      597.7   3.264 0.01772 * 
NH4.SO4 - control == 0   2785.0      597.7   4.659 0.00137 **
urea - control == 0      1286.5      597.7   2.152 0.12551   </font>


<hr size="5" color="#800000">
<div align="center"><a href="FAQ_R_NC.html"><font size="+1">Return to FAQ List</font></a></div>

</body>
</html>
