---
layout: page
title: "Simple Linear Regresssion"
author: "Derek H. Ogle"
output:
  html_document:
    fig_width: 3.5
    fig_height: 3.5
    self_contained: no
  pdf_document:
    fig_width: 3.5
    fig_height: 3.5
  word_document:
    fig_width: 3.5
    fig_height: 3.5
---

```{r echo=FALSE, eval=FALSE}
# Renders an appropriate HTML file for the webpage
setwd("C:/aaaWork/Web/GitHub/NCMTH107/lecture/HOs"); source("../../rhelpers/rhelpers.R")
fnm <- "SimpleLinearRegression"
modHTML(fnm)
```

```{r echo=FALSE, results='hide', message='FALSE'}
fnm <- "SimpleLinearRegression"
source("../../rhelpers/knitr_setup.R")
```

## Background
Rainbow trout, mountain whitefish and large-scale suckers taken from four different localities along the Spokane River (eastern Washington) during summer 1999 were analyzed for three heavy metals (lead, zinc and cadmium).  Metal contents are reported in milligrams of metal per kilogram of fish (mg/kg), which is equivalent to parts per million (ppm).  The source of the heavy metals is upstream from Spokane in the Coeur d'Alene mining district of northern Idaho, one of the richest, and most heavily contaminated, mining districts in the U.S.  Acid mine drainage directly from shafts and adits, and from leaching of metal rich mine tailings (waste rock), as well as metal-rich discharges from smelters, have contaminated many streams, rivers and lakes in the Spokane/Coeur d'Alene watershed.  Metals are both dissolved in the river water and found as minute particles that can enter the food web at various stages.  The lead and zinc data are found in a tab-delimited text file at [MetalsFish.csv](https://github.com/droglenc/NCData/blob/master/MetalsFish.csv).  Note that the authors are interested in determining if zinc concentrations can be explained by knowing lead concentrations.  Use this information to answer the questions below.

* What is the response variable?
* What is the explanatory variable?
* In terms of the variables of this problem, what is the equation of the best-fit line?
* In terms of the variables of this problem, interpret the value of the slope.
* In terms of the variables of this problem, interpret the value of the y-intercept.
* What is the predicted zinc concentration if the lead concentration is 2.5 mg/kg?
* What is the predicted zinc concentration if the lead concentration is 6?
* What is the residual if the zinc concentration is 100 mg/kg and the lead concentration is 3.2 mg/kg?
* What is the correlation coefficient between the concentrations of zinc and lead?
* What proportion of the variability in zinc concentration is explained by knowing the concentration of lead?
* What aspect of this regression analysis concerns you (i.e., consider the regression assumptions)?

## Getting the Data
```{r message=FALSE, warning=FALSE}
library(NCStats)
setwd("C:/aaaWork/Web/GitHub/NCMTH107/lecture/HOs")
( sr <- read.table("MetalsFish.txt",header=TRUE) )
```

## Fitting the Regression and Seeing the Results
```{r}
( lm.sr <- lm(zinc~lead,data=sr) )
rSquared(lm.sr)
fitPlot(lm.sr,xlab="lead (ppm)",ylab="zinc (ppm)",main="")
```

## Using the Regression
```{r}
predict(lm.sr,data.frame(lead=2.5))
( yhat <- predict(lm.sr,data.frame(lead=3.2)) )
100-yhat
```

```{r echo=FALSE, results="hide", message=FALSE, warnings=FALSE}
purl2(paste0(fnm,".Rmd"))
```
