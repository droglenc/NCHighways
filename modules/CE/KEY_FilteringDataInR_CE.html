---
layout: page
title: "Answer Key"
subtitle: "Filtering Data In R CE"
author: Derek H. Ogle
css: "/css/modules.css"
---


<hr />
<p>The following two commands were run before the code run below because I saved all of my files in the same directory.</p>
<pre class="r"><code>&gt; library(NCStats)
&gt; setwd(&quot;T:/Stats&quot;)</code></pre>
<hr />
<div class="alert alert-warning">
<strong>Note:</strong>
<ol>
<li>
If the variable in the condition statement is a character or factor then the comparison value must be in quotes. If the variable is quantitative then the comparision value should not be in quotes.
</li>
<li>
Use two equals signs (i.e., <code>==</code>) when testing whether something “is equal”.
</li>
<li>
Two condition statements in <code>filterD()</code> are treated as being combined with an “and”.
</li>
<li>
If the object name to the left of the assignment operator (i.e., <code>&lt;-</code>) is the same as the data.frame in <code>filterD()</code> then the data.frame in <code>filterD()</code> will be over-written and your original data will be lost (until you read it in again). In other words, be very careful if the new data.frame name is the same as the name for an old data.frame.
</li>
</ol>
</div>
<div id="coarse-woody-debris" class="section level2">
<h2>Coarse Woody Debris</h2>
<pre class="r"><code>&gt; cwd &lt;- read.csv(&quot;cwd.csv&quot;)
&gt; ( cwd.low &lt;- filterD(cwd,exposure==&quot;low&quot;) )</code></pre>
<pre><code>  diameter exposure
1       23      low
2       17      low
3       16      low
4       24      low
5       19      low
6       34      low
7       16      low
8       16      low
9       34      low</code></pre>
<pre class="r"><code>&gt; ( cwd.gt20 &lt;- filterD(cwd,diameter&gt;20) )</code></pre>
<pre><code>   diameter exposure
1        21      med
2        23      low
3        22      med
4        24      low
5        24      med
6        23      med
7        31      med
8        25      med
9        34      low
10       23      med
11       34      low
12       34      med
13       24      med</code></pre>
<pre class="r"><code>&gt; ( cwd.lowget20 &lt;- filterD(cwd,exposure==&quot;low&quot;,diameter&gt;20) )</code></pre>
<pre><code>  diameter exposure
1       23      low
2       24      low
3       34      low
4       34      low</code></pre>
<pre class="r"><code>&gt; ( cwd.btw2030 &lt;- filterD(cwd,diameter&gt;20,diameter&lt;30) )</code></pre>
<pre><code>  diameter exposure
1       21      med
2       23      low
3       22      med
4       24      low
5       24      med
6       23      med
7       25      med
8       23      med
9       24      med</code></pre>
<hr />
</div>
<div id="cars" class="section level2">
<h2>Cars</h2>
<pre class="r"><code>&gt; car &lt;- read.csv(&quot;93cars.csv&quot;)</code></pre>
<pre class="r"><code>&gt; str(car)</code></pre>
<pre><code>&#39;data.frame&#39;:   93 obs. of  26 variables:
 $ MFG       : Factor w/ 32 levels &quot;Acura&quot;,&quot;Audi&quot;,..: 1 1 2 2 3 4 4 4 4 5 ...
 $ Model     : Factor w/ 93 levels &quot;100&quot;,&quot;190E&quot;,&quot;240&quot;,..: 49 54 9 1 6 24 56 73 72 35 ...
 $ Type      : Factor w/ 6 levels &quot;Compact&quot;,&quot;Large&quot;,..: 4 3 1 3 3 3 2 2 3 2 ...
 $ MinPrice  : num  12.9 29.2 25.9 30.8 23.7 14.2 19.9 22.6 26.3 33 ...
 $ MidPrice  : num  15.9 33.9 29.1 37.7 30 15.7 20.8 23.7 26.3 34.7 ...
 $ MaxPrice  : num  18.8 38.7 32.3 44.6 36.2 17.3 21.7 24.9 26.3 36.3 ...
 $ CMPG      : int  25 18 20 19 22 22 19 16 19 16 ...
 $ HMPG      : int  31 25 26 26 30 31 28 25 27 25 ...
 $ AirBags   : int  0 2 1 2 1 1 1 1 1 1 ...
 $ DriveTrain: int  1 1 1 1 0 1 1 0 1 1 ...
 $ Cyls      : int  4 6 6 6 4 4 6 6 6 8 ...
 $ EngSize   : num  1.8 3.2 2.8 2.8 3.5 2.2 3.8 5.7 3.8 4.9 ...
 $ HP        : int  140 200 172 172 208 110 170 180 170 200 ...
 $ RPM       : int  6300 5500 5500 5500 5700 5200 4800 4000 4800 4100 ...
 $ EngRev    : int  2890 2335 2280 2535 2545 2565 1570 1320 1690 1510 ...
 $ Manual    : Factor w/ 2 levels &quot;No&quot;,&quot;Yes&quot;: 2 2 2 2 2 1 1 1 1 1 ...
 $ FuelTank  : num  13.2 18 16.9 21.1 21.1 16.4 18 23 18.8 18 ...
 $ Passengers: int  5 5 5 6 4 6 6 6 5 6 ...
 $ Length    : int  177 195 180 193 186 189 200 216 198 206 ...
 $ Wheelbase : int  102 115 102 106 109 105 111 116 108 114 ...
 $ Width     : int  68 71 67 70 69 69 74 78 73 73 ...
 $ Uturn     : int  37 38 37 37 39 41 42 45 41 43 ...
 $ RearSeat  : num  26.5 30 28 31 27 28 30.5 30.5 26.5 35 ...
 $ Luggage   : int  11 15 14 17 13 16 17 21 14 18 ...
 $ Weight    : int  2705 3560 3375 3405 3640 2880 3470 4105 3495 3620 ...
 $ Domestic  : Factor w/ 2 levels &quot;No&quot;,&quot;Yes&quot;: 1 1 1 1 1 2 2 2 2 2 ...</code></pre>
<pre class="r"><code>&gt; ( fords &lt;- filterD(car,MFG==&quot;Ford&quot;) )</code></pre>
<pre><code>   MFG          Model    Type MinPrice MidPrice MaxPrice CMPG HMPG AirBags DriveTrain
1 Ford        Festiva   Small      6.9      7.4      7.9   31   33       0          1
2 Ford         Escort   Small      8.4     10.1     11.9   23   30       0          1
3 Ford          Tempo Compact     10.4     11.3     12.2   22   27       0          1
4 Ford        Mustang  Sporty     10.8     15.9     21.0   22   29       1          0
5 Ford          Probe  Sporty     12.8     14.0     15.2   24   30       1          1
6 Ford       Aerostar     Van     14.5     19.9     25.3   15   20       1          2
7 Ford         Taurus Midsize     15.6     20.2     24.8   21   30       1          1
8 Ford Crown_Victoria   Large     20.1     20.9     21.7   18   26       1          0
  Cyls EngSize  HP  RPM EngRev Manual FuelTank Passengers Length Wheelbase Width Uturn
1    4     1.3  63 5000   3150    Yes     10.0          4    141        90    63    33
2    4     1.8 127 6500   2410    Yes     13.2          5    171        98    67    36
3    4     2.3  96 4200   2805    Yes     15.9          5    177       100    68    39
4    4     2.3 105 4600   2285    Yes     15.4          4    180       101    68    40
5    4     2.0 115 5500   2340    Yes     15.5          4    179       103    70    38
6    6     3.0 145 4800   2080    Yes     21.0          7    176       119    72    45
7    6     3.0 140 4800   1885     No     16.0          5    192       106    71    40
8    8     4.6 190 4200   1415     No     20.0          6    212       114    78    43
  RearSeat Luggage Weight Domestic
1     26.0      12   1845      Yes
2     28.0      12   2530      Yes
3     27.5      13   2690      Yes
4     24.0      12   2850      Yes
5     23.0      18   2710      Yes
6     30.0      NA   3735      Yes
7     27.5      18   3325      Yes
8     30.0      21   3950      Yes</code></pre>
<pre class="r"><code>&gt; ( goodgas &lt;- filterD(car,CMPG&gt;30) )</code></pre>
<pre><code>      MFG   Model  Type MinPrice MidPrice MaxPrice CMPG HMPG AirBags DriveTrain Cyls
1    Ford Festiva Small      6.9      7.4      7.9   31   33       0          1    4
2     Geo   Metro Small      6.7      8.4     10.0   46   50       0          1    3
3   Honda   Civic Small      8.4     12.1     15.8   42   46       1          1    4
4 Pontiac  LeMans Small      8.2      9.0      9.9   31   41       0          1    4
5  Subaru   Justy Small      7.3      8.4      9.5   33   37       0          2    3
6  Suzuki   Swift Small      7.3      8.6     10.0   39   43       0          1    3
7  Toyota  Tercel Small      7.8      9.8     11.8   32   37       1          1    4
  EngSize  HP  RPM EngRev Manual FuelTank Passengers Length Wheelbase Width Uturn
1     1.3  63 5000   3150    Yes     10.0          4    141        90    63    33
2     1.0  55 5700   3755    Yes     10.6          4    151        93    63    34
3     1.5 102 5900   2650    Yes     11.9          4    173       103    67    36
4     1.6  74 5600   3130    Yes     13.2          4    177        99    66    35
5     1.2  73 5600   2875    Yes      9.2          4    146        90    60    32
6     1.3  70 6000   3360    Yes     10.6          4    161        93    63    34
7     1.5  82 5200   3505    Yes     11.9          5    162        94    65    36
  RearSeat Luggage Weight Domestic
1     26.0      12   1845      Yes
2     27.5      10   1695       No
3     28.0      12   2350       No
4     25.5      17   2350      Yes
5     23.5      10   2045       No
6     27.5      10   1965       No
7     24.0      11   2055       No</code></pre>
<pre class="r"><code>&gt; ( nostick &lt;- filterD(car,Manual==&quot;No&quot;,HMPG&gt;30) )</code></pre>
<pre><code>         MFG         Model    Type MinPrice MidPrice MaxPrice CMPG HMPG AirBags
1      Buick       Century Midsize     14.2     15.7     17.3   22   31       1
2 Oldsmobile       Achieva Compact     13.0     13.5     14.0   24   31       0
3 Oldsmobile Cutlass_Ciera Midsize     14.2     16.3     18.4   23   31       1
  DriveTrain Cyls EngSize  HP  RPM EngRev Manual FuelTank Passengers Length Wheelbase
1          1    4     2.2 110 5200   2565     No     16.4          6    189       105
2          1    4     2.3 155 6000   2380     No     15.2          5    188       103
3          1    4     2.2 110 5200   2565     No     16.5          5    190       105
  Width Uturn RearSeat Luggage Weight Domestic
1    69    41       28      16   2880      Yes
2    67    39       28      14   2910      Yes
3    70    42       28      16   2890      Yes</code></pre>
<pre class="r"><code>&gt; ( hpsub &lt;- filterD(car,HP&gt;175,HP&lt;200) )</code></pre>
<pre><code>         MFG          Model    Type MinPrice MidPrice MaxPrice CMPG HMPG AirBags
1      Buick     Roadmaster   Large     22.6     23.7     24.9   16   25       1
2       Ford Crown_Victoria   Large     20.1     20.9     21.7   18   26       1
3      Lexus          ES300 Midsize     27.5     28.0     28.4   18   24       1
4 Volkswagen        Corrado  Sporty     22.9     23.3     23.7   18   25       0
  DriveTrain Cyls EngSize  HP  RPM EngRev Manual FuelTank Passengers Length Wheelbase
1          0    6     5.7 180 4000   1320     No     23.0          6    216       116
2          0    8     4.6 190 4200   1415     No     20.0          6    212       114
3          1    6     3.0 185 5200   2325    Yes     18.5          5    188       103
4          1    6     2.8 178 5800   2385    Yes     18.5          4    159        97
  Width Uturn RearSeat Luggage Weight Domestic
1    78    45     30.5      21   4105      Yes
2    78    43     30.0      21   3950      Yes
3    70    40     27.5      14   3510       No
4    66    36     26.0      15   2810       No</code></pre>
<pre class="r"><code>&gt; anor &lt;- filterD(car,Domestic==&quot;Yes&quot;|Cyls==4) # large, didn&#39;t show result</code></pre>
<hr />
</div>
<div id="purple-loosestrife-plants" class="section level2">
<h2>Purple Loosestrife Plants</h2>
<pre class="r"><code>&gt; ## setwd(&#39;C:/aaaWork/Books/IntroStats/HW/&#39;)
&gt; ## df &lt;- read.csv(&quot;loostrife.csv&quot;)
&gt; ( shady &lt;- filterD(df,shade==&quot;S&quot;) )</code></pre>
<pre><code>  lstrf shade
1     2     S
2     1     S
3     0     S
4     5     S
5     0     S
6     2     S
7     4     S
8     1     S</code></pre>
<pre class="r"><code>&gt; ( open &lt;- filterD(df,shade==&quot;O&quot;) )</code></pre>
<pre><code>  lstrf shade
1    13     O
2     9     O
3    11     O
4    14     O
5    23     O
6    16     O</code></pre>
<pre class="r"><code>&gt; ( notshady &lt;- filterD(df,shade!=&quot;S&quot;) )</code></pre>
<pre><code>   lstrf shade
1     13     O
2      9     O
3     11     O
4      5     P
5     14     O
6     23     O
7      3     P
8      3     P
9      6     P
10     7     P
11    16     O</code></pre>
<pre class="r"><code>&gt; ( gt10 &lt;- filterD(df,lstrf&gt;10) )</code></pre>
<pre><code>  lstrf shade
1    13     O
2    11     O
3    14     O
4    23     O
5    16     O</code></pre>
<pre class="r"><code>&gt; ( shadygt10 &lt;- filterD(df,shade==&quot;S&quot;,lstrf &lt;5) )</code></pre>
<pre><code>  lstrf shade
1     2     S
2     1     S
3     0     S
4     0     S
5     2     S
6     4     S
7     1     S</code></pre>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
